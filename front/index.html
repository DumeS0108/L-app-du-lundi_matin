<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WinOS 95 - Glandeur Simulator</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <!-- LOGIN -->
    <section id="login-screen" class="full-overlay">
        <div class="window login-window">
            <div class="window-header"><span>üîë Authentification R√©seau</span></div>
            <div class="window-body">
                <p>Identifiant Salari√© :</p>
                <input type="text" id="username" placeholder="Utilisateur">
                <input type="password" id="password" placeholder="Mot de passe">
                <div class="buttons">
                    <button onclick="login()">BADGER</button>
                    <button onclick="register()">SIGNER CONTRAT</button>
                </div>
                <p id="auth-message"></p>
            </div>
        </div>
    </section>

    <!-- BOSS SCREEN (Ecran de camouflage) -->
    <div id="boss-screen" class="hidden">
        <div class="update-box">
            <h2>Mise √† jour de Windows...</h2>
            <p>Veuillez ne pas √©teindre l'ordinateur.</p>
            <div class="progress-bar-bg"><div class="progress-bar-fill"></div></div>
            <p id="boss-status-text">Installation : 12% (Le patron rode...)</p>
            <small id="boss-safe-text" style="color:red; display:block; margin-top:10px; font-weight:bold;">NE REVENEZ PAS TOUT DE SUITE !</small>
        </div>
    </div>

    <!-- BUREAU -->
    <section id="desktop-screen" class="hidden">
        
        <div id="boss-alert" class="hidden">üö® PATRON EN APPROCHE ! (ESPACE !) üö®</div>

        <!-- INFO UTILISATEUR (Wallet) -->
        <div class="user-widget">
            üí∞ <span id="wallet-display">0</span> ‚Ç¨
        </div>

        <div class="desktop-icons">
            <div class="icon" onclick="openWindow('popup')">
                <div class="icon-img">üí•</div>
                <div class="icon-text">Pop-up Panic</div>
            </div>
            <div class="icon" onclick="openWindow('typer')">
                <div class="icon-img">‚å®Ô∏è</div>
                <div class="icon-text">Corp. Typer</div>
            </div>
            <div class="icon" onclick="openWindow('snake')">
                <div class="icon-img">üìä</div>
                <div class="icon-text">Budget_24.xls</div>
            </div>
            <!-- NOUVEAU : Icone Boutique -->
            <div class="icon" onclick="openWindow('shop')">
                <div class="icon-img">üõí</div>
                <div class="icon-text">Boutique</div>
            </div>
            <div class="icon" onclick="openWindow('leaderboard')">
                <div class="icon-img">üèÜ</div>
                <div class="icon-text">Glandeurs du mois</div>
            </div>
             <div class="icon" onclick="logout()">
                <div class="icon-img">üö™</div>
                <div class="icon-text">Fin de journ√©e</div>
            </div>
        </div>

        <!-- FEN√äTRE BOUTIQUE (NOUVEAU) -->
        <div id="window-shop" class="os-window hidden" style="top: 5%; left: 35%; height: 500px;">
            <div class="window-header">
                <span>Amazon_Pirate.exe</span>
                <button class="close-btn" onclick="closeWindow('shop')">X</button>
            </div>
            <div class="window-body" style="background: white; overflow-y: auto;">
                <h3>üíé AM√âLIORATIONS & SKINS</h3>
                <p>Solde actuel : <b id="shop-wallet">0</b> ‚Ç¨</p>
                <div id="shop-items" class="shop-grid">
                    <!-- Les items seront g√©n√©r√©s par JS -->
                </div>
            </div>
        </div>

        <!-- FEN√äTRE 1 : POP-UP PANIC -->
        <div id="window-popup" class="os-window hidden" style="top: 10%; left: 15%;">
            <div class="window-header"><span>Pop-up Panic.exe</span><button class="close-btn" onclick="closeWindow('popup')">X</button></div>
            <div class="window-body game-body">
                <div class="game-hud">
                    Salaire: <span id="score-popup">0</span> ‚Ç¨ 
                    <span class="multiplier">x<span id="mult-popup">1.0</span></span>
                </div>
                <button id="btn-start-popup" onclick="startPopupGame()">TRAVAILLER (FAUX)</button>
                <div id="game-area-popup"></div>
            </div>
        </div>

        <!-- FEN√äTRE 2 : CORPORATE TYPER -->
        <div id="window-typer" class="os-window hidden" style="top: 15%; left: 20%;">
            <div class="window-header"><span>Word_Simulator.exe</span><button class="close-btn" onclick="closeWindow('typer')">X</button></div>
            <div class="window-body game-body dark-bg">
                <div class="game-hud">
                    Salaire: <span id="score-typer">0</span> ‚Ç¨
                    <span class="multiplier">x<span id="mult-typer">1.0</span></span>
                </div>
                <div id="typer-container">
                    <p id="word-display">PR√äT ?</p>
                    <button id="btn-start-typer" onclick="startTyperGame()">TAPER RAPPORT</button>
                    <input type="text" id="typer-input" placeholder="..." autocomplete="off" disabled>
                    <div id="timer-bar"><div id="timer-progress"></div></div>
                </div>
            </div>
        </div>

        <!-- FEN√äTRE 3 : EXCEL SNAKE -->
        <div id="window-snake" class="os-window hidden" style="top: 5%; left: 10%;">
            <div class="window-header" style="background: #217346;"><span>Excel - Budget.xls</span><button class="close-btn" onclick="closeWindow('snake')">X</button></div>
            <div class="window-body game-body" style="background: #fff;">
                <div class="game-hud" style="color:#217346;">
                    Salaire: <span id="score-snake">0</span> ‚Ç¨
                    <span class="multiplier">x<span id="mult-snake">1.0</span></span>
                </div>
                <button id="btn-start-snake" onclick="startSnakeGame()">CALCULER BUDGET</button>
                <div id="snake-grid"></div>
            </div>
        </div>

        <!-- FEN√äTRE CLASSEMENT -->
        <div id="window-leaderboard" class="os-window hidden" style="top: 20%; left: 30%;">
            <div class="window-header"><span>Top_Slackers.txt</span><button class="close-btn" onclick="closeWindow('leaderboard')">X</button></div>
            <div class="window-body">
                <ul id="leaderboard-list">Chargement...</ul>
            </div>
        </div>

        <div class="taskbar">
            <button class="start-btn">ü™ü D√©marrer</button>
            <div class="active-apps"><div class="app-tab">Employ√© : <span id="display-username"></span></div></div>
            <div class="tray"><span id="clock">12:00</span></div>
        </div>
    </section>
    <script src="script.js"></script>
</body>
</html>